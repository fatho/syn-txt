(define bass-theme
    (sequence-all
        (list
            (note :pitch "c2" :length 1/8 :velocity 0.4)
            (note :pitch "c2" :length 1/8 :velocity 0.4)
            (note :pitch "c2" :length 1/8 :velocity 0.4)
            (note :pitch "c2" :length 1/8 :velocity 0.4)
            (note :pitch "a1" :length 2/8 :velocity 0.4)
            (note :pitch "c1" :length 2/8 :velocity 0.4)
        )
    ))

; Define the melody for the bass
(define bass-line
    (repeat 4 bass-theme))

(define lead
    (synth
        :name "test" ; currently, there is only the "test" synthesizer
        :params
        (dict
            :gain 1.0
            :unison 3
            :unison-detune  10
            :wave-shape "supersaw"
            :envelope (envelope :attack 0.1 :decay 1.0 :sustain 0.2 :release 0.1)
            :filter (biquad/lowpass :cutoff 8000.0)
        )
    ))

(define bass
    (synth
        :name "test"
        :params
        (dict
            :gain 0.9
            :unison 3
            :unison-detune  3
            :wave-shape "saw"
            :envelope (envelope :attack 0.01 :decay 1.0 :sustain 0.0 :release 0.2)
            :filter (biquad/lowpass :cutoff 1200.0)
        )
    ))

; Synthesize the notes on the default synthesizer at 90 bpm
(song
    :bpm 128
    :tracks
    (list
        (track :notes bass-line :instrument bass)
        ; (track :notes lead-arpeggios :instrument lead)
    ))
